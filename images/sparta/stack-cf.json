{"AWSTemplateFormatVersion":"2010-09-09","Description":"Simple Sparta application that demonstrates core functionality","Resources":{"IAMRole48cf2a21525663b2373ff5e3c99f66298a274a9b":{"Type":"AWS::IAM::Role","Properties":{"AssumeRolePolicyDocument":{"Statement":[{"Action":["sts:AssumeRole"],"Effect":"Allow","Principal":{"Service":["lambda.amazonaws.com"]}},{"Action":["sts:AssumeRole"],"Effect":"Allow","Principal":{"Service":["ec2.amazonaws.com"]}},{"Action":["sts:AssumeRole"],"Effect":"Allow","Principal":{"Service":["apigateway.amazonaws.com"]}}],"Version":"2012-10-17"},"Policies":[{"PolicyDocument":{"Statement":[{"Effect":"Allow","Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Resource":{"Fn::Join":["",["arn:aws:logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},"*"]]}},{"Effect":"Allow","Action":["cloudwatch:PutMetricData"],"Resource":"*"},{"Effect":"Allow","Action":["cloudformation:DescribeStacks","cloudformation:DescribeStackResource"],"Resource":{"Fn::Join":["",["arn:aws:cloudformation:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":stack/",{"Ref":"AWS::StackName"},"/*"]]}}],"Version":"2012-10-17"},"PolicyName":"LambdaPolicybafa1e5f5f9b9470a9d7e063d53c00b2cf004081"}]}},"mainhelloWorldLambda837e49c53be175a0f75018a148ab6cd22841cbfb":{"Type":"AWS::Lambda::Function","DependsOn":["IAMRole48cf2a21525663b2373ff5e3c99f66298a274a9b"],"Metadata":{"aws:cloudformation:logical-id":"mainhelloWorldLambda837e49c53be175a0f75018a148ab6cd22841cbfb","aws:cloudformation:stack-id":{"Ref":"AWS::StackId"},"aws:cloudformation:stack-name":{"Ref":"AWS::StackName"},"golangFunc":"main.helloWorld","sparta:cloudformation:region":{"Ref":"AWS::Region"}},"Properties":{"Code":{"S3Bucket":"rr-go-sparta","S3Key":"MyHelloWorldStack/MyHelloWorldStack762288397"},"Description":"MyHelloWorldStack: main.helloWorld","Handler":"index.main_helloWorld","MemorySize":128,"Role":{"Fn::GetAtt":["IAMRole48cf2a21525663b2373ff5e3c99f66298a274a9b","Arn"]},"Runtime":"nodejs4.3","Timeout":3}}},"Outputs":{"SpartaBuildID":{"Description":"Build ID","Value":"96e04fc0b4c4e1e355075202b1b9a9b5b865424f"},"SpartaHome":{"Description":"Sparta Home","Value":"http://gosparta.io"},"SpartaVersion":{"Description":"Sparta Version","Value":"0.9.1"}}}